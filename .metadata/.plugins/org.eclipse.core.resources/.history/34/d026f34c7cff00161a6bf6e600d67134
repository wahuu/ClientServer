<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/templates/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="content">
		<h1>Home</h1>
		<hr />
		<h:form id="form">
			<p:growl id="msgs" showDetail="true" />
			<p:dataTable id="eventsDT" var="con" value="#{mainForm.connections}"
				selectionMode="single" selection="#{mainForm.selectedConnection}"
				rowKey="#{con.id}">
				<f:facet name="header">
            Connections
        </f:facet>
				<p:ajax event="rowSelect" listener="#{mainForm.onRowSelect}"
					update=":form:msgs" />
				<p:column headerText="Id">
					<h:outputText value="#{con.id}" />
				</p:column>
				<p:column headerText="Ip">
					<h:outputText value="#{con.ip}" />
				</p:column>
				<p:column headerText="Status">
					<h:outputText value="#{con.status}" />
				</p:column>
			</p:dataTable>
			<p:commandButton value="synchronize"
				class="btn btn-danger"
				actionListener="#{mainForm.synchronize}" />
		</h:form>

	</ui:define>
</ui:composition>
